[package]
name = "mf4-rs"
version = "0.1.0"
edition = "2024"

[lib]
name = "mf4_rs"
crate-type = ["cdylib", "rlib"]

[dependencies]
nom = "8"  # Used for parsing binary MDF data
byteorder = "1.4"  # Helps with reading binary data
memmap2 = "0.9"
meval = "0.2"  # Used for evaluating mathematical expressions
thiserror = "2.0"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Python bindings
pyo3 = { version = "0.21", features = ["extension-module"], optional = true }

[features]
default = []
pyo3 = ["dep:pyo3"]

# Benchmark examples
[[example]]
name = "data_generator"
path = "benchmarks/rust/data_generator.rs"

[[example]]
name = "rust_performance_benchmark"
path = "benchmarks/rust/rust_performance_benchmark.rs"

[[example]]
name = "index_reading_benchmark"
path = "benchmarks/rust/index_reading_benchmark.rs"
